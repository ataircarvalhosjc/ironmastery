<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iron Mastery | Elite Training</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & Babel CDNs -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Framer Motion & Lucide CDNs -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
   <script src="https://unpkg.com/lucide@0.473.0"></script>
    <script src="https://unpkg.com/lucide-react@0.473.0"></script>
    <script>
      setTimeout(() => {
        lucide.createIcons();
      }, 500);
    </script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'deep-black': '#0c0c0c',
                        'intense-red': '#e60000',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style type="text/css">
        body {
            background-color: #0c0c0c;
            color: white;
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        .red-glow {
            box-shadow: 0 0 15px rgba(230, 0, 0, 0.2);
        }
        
        .red-glow-hover:hover {
            box-shadow: 0 0 25px rgba(230, 0, 0, 0.5);
        }

        /* Hide scrollbar but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const motion = window.Motion ? window.Motion.motion : null;
        const AnimatePresence = window.Motion ? window.Motion.AnimatePresence : null;
        
        // Get Lucide icons from the global LucideReact object
       const LucideIcons = window.LucideReact || {};
        const { 
            Dumbbell, 
            Timer, 
            ChevronRight, 
            X, 
            Play, 
            Pause, 
            RotateCcw,
            Trophy,
            Flame,
            Zap,
            Info 
        } = LucideIcons;

        // --- Constants & Data ---
        const GOAL_CONFIGS = {
            hypertrophy: {
                label: 'Hipertrofia',
                sets: '3-4 séries',
                reps: '8-12 reps',
                rest: '60-90s',
                restSeconds: 90,
                description: 'Foco em ganho de massa muscular.'
            },
            fat_burn: {
                label: 'Queima de Gordura',
                sets: '4 séries',
                reps: '15-20 reps',
                rest: '30s',
                restSeconds: 30,
                description: 'Foco em cadência e definição.'
            },
            strength: {
                label: 'Força Bruta',
                sets: '5 séries',
                reps: '3-5 reps',
                rest: '3 min',
                restSeconds: 180,
                description: 'Foco em carga máxima e potência.'
            }
        };

        const CATEGORIES = [
            'Inferiores', 
            'Peito', 
            'Costas', 
            'Braços', 
            'Ombros/Trapézio', 
            'Antebraço', 
            'Core'
        ];

        const EXERCISES = [
            { id: '1', name: 'Abduçao de quadril em pé', category: 'Inferiores', gif: 'Abduçao de quadril em pé.gif' },
            { id: '2', name: 'agachamento bulgaro', category: 'Inferiores', gif: 'agachamento bulgaro.gif' },
            { id: '3', name: 'Leg Press 45', category: 'Inferiores', gif: 'Leg Press 45.gif' },
            { id: '4', name: 'Cadeira Extensora', category: 'Inferiores', gif: 'Cadeira Extensora.gif' },
            { id: '5', name: 'supino reto no cross', category: 'Peito', gif: 'supino reto no cross.gif' },
            { id: '6', name: 'Supino Inclinado com Halteres', category: 'Peito', gif: 'Supino Inclinado com Halteres.gif' },
            { id: '7', name: 'Crucifixo Máquina', category: 'Peito', gif: 'Crucifixo Máquina.gif' },
            { id: '8', name: 'remada serrote', category: 'Costas', gif: 'remada serrote.gif' },
            { id: '9', name: 'Puxada Aberta', category: 'Costas', gif: 'Puxada Aberta.gif' },
            { id: '10', name: 'Remada Curvada', category: 'Costas', gif: 'Remada Curvada.gif' },
            { id: '11', name: 'rosca direta no cross barra W', category: 'Braços', gif: 'rosca direta no cross barra W.gif' },
            { id: '12', name: 'triceps testa com barra', category: 'Braços', gif: 'triceps testa com barra.gif' },
            { id: '13', name: 'Rosca Martelo', category: 'Braços', gif: 'Rosca Martelo.gif' },
            { id: '14', name: 'Triceps Pulley', category: 'Braços', gif: 'Triceps Pulley.gif' },
            { id: '15', name: 'encolhimento no smith', category: 'Ombros/Trapézio', gif: 'encolhimento no smith.gif' },
            { id: '16', name: 'Desenvolvimento com Halteres', category: 'Ombros/Trapézio', gif: 'Desenvolvimento com Halteres.gif' },
            { id: '17', name: 'Elevação Lateral', category: 'Ombros/Trapézio', gif: 'Elevação Lateral.gif' },
            { id: '18', name: 'Rosca Inversa', category: 'Antebraço', gif: 'Rosca Inversa.gif' },
            { id: '19', name: 'Flexão de Punho', category: 'Antebraço', gif: 'Flexão de Punho.gif' },
            { id: '20', name: 'Abdominal com Carga', category: 'Core', gif: 'Abdominal com Carga.gif' },
            { id: '21', name: 'Plancha Abdominal', category: 'Core', gif: 'Plancha Abdominal.gif' },
        ];

        // --- Utils ---
        function cn(...inputs) {
            return inputs.filter(Boolean).join(' ');
        }

        // --- Components ---
        function ExerciseModal({ exercise, goalConfig, onClose }) {
            const [timeLeft, setTimeLeft] = useState(goalConfig.restSeconds);
            const [isActive, setIsActive] = useState(false);
            const timerRef = useRef(null);

            useEffect(() => {
                if (isActive && timeLeft > 0) {
                    timerRef.current = setInterval(() => {
                        setTimeLeft((prev) => prev - 1);
                    }, 1000);
                } else if (timeLeft === 0) {
                    setIsActive(false);
                    if (timerRef.current) clearInterval(timerRef.current);
                }

                return () => {
                    if (timerRef.current) clearInterval(timerRef.current);
                };
            }, [isActive, timeLeft]);

            const toggleTimer = () => setIsActive(!isActive);
            const resetTimer = () => {
                setIsActive(false);
                setTimeLeft(goalConfig.restSeconds);
            };

            const progress = (timeLeft / goalConfig.restSeconds) * 100;

            return (
                <motion.div
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    exit={{ opacity: 0 }}
                    className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-deep-black/95 backdrop-blur-xl"
                >
                    <motion.div
                        initial={{ scale: 0.9, opacity: 0, y: 20 }}
                        animate={{ scale: 1, opacity: 1, y: 0 }}
                        exit={{ scale: 0.9, opacity: 0, y: 20 }}
                        className="relative w-full max-w-lg bg-white/5 border border-white/10 rounded-[2.5rem] overflow-hidden shadow-[0_0_50px_rgba(230,0,0,0.15)]"
                    >
                        <button 
                            onClick={onClose}
                            className="absolute top-6 right-6 z-10 w-10 h-10 rounded-full bg-black/40 backdrop-blur-md flex items-center justify-center text-white/60 hover:text-white transition-colors"
                        >
                            <X size={20} />
                        </button>

                        <div className="p-8">
                            <div className="mb-6">
                                <h2 className="text-2xl font-display font-bold text-white mb-1">{exercise.name}</h2>
                                <p className="text-xs uppercase tracking-widest text-intense-red font-bold">{exercise.category}</p>
                            </div>

                            <div className="aspect-square w-full bg-black rounded-3xl overflow-hidden mb-8 border border-white/5 relative group">
                                <img 
                                    src={`./assets/exercises/${exercise.gif}`} 
                                    alt={exercise.name}
                                    className="w-full h-full object-contain"
                                    onError={(e) => {
                                        e.target.src = `https://picsum.photos/seed/${exercise.id}/800/800?blur=2`;
                                    }}
                                />
                                <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none" />
                            </div>

                            <div className="grid grid-cols-3 gap-4 mb-8">
                                <div className="bg-white/5 rounded-2xl p-4 text-center border border-white/5">
                                    <p className="text-[10px] uppercase tracking-widest text-white/40 mb-1">Séries</p>
                                    <p className="text-lg font-bold text-white">{goalConfig.sets}</p>
                                </div>
                                <div className="bg-white/5 rounded-2xl p-4 text-center border border-white/5">
                                    <p className="text-[10px] uppercase tracking-widest text-white/40 mb-1">Reps</p>
                                    <p className="text-lg font-bold text-white">{goalConfig.reps}</p>
                                </div>
                                <div className="bg-white/5 rounded-2xl p-4 text-center border border-white/5">
                                    <p className="text-[10px] uppercase tracking-widest text-white/40 mb-1">Descanso</p>
                                    <p className="text-lg font-bold text-white">{goalConfig.rest}</p>
                                </div>
                            </div>

                            <div className="flex flex-col items-center">
                                <div className="relative w-40 h-40 mb-6">
                                    <svg className="w-full h-full -rotate-90">
                                        <circle
                                            cx="80"
                                            cy="80"
                                            r="74"
                                            fill="transparent"
                                            stroke="rgba(255,255,255,0.05)"
                                            strokeWidth="8"
                                        />
                                        <motion.circle
                                            cx="80"
                                            cy="80"
                                            r="74"
                                            fill="transparent"
                                            stroke="#e60000"
                                            strokeWidth="8"
                                            strokeDasharray="465"
                                            animate={{ strokeDashoffset: 465 - (465 * progress) / 100 }}
                                            transition={{ duration: 0.5, ease: "linear" }}
                                            strokeLinecap="round"
                                            className="drop-shadow-[0_0_8px_#e60000]"
                                        />
                                    </svg>
                                    <div className="absolute inset-0 flex flex-col items-center justify-center">
                                        <span className="text-4xl font-display font-bold text-white">
                                            {Math.floor(timeLeft / 60)}:{(timeLeft % 60).toString().padStart(2, '0')}
                                        </span>
                                        <span className="text-[10px] uppercase tracking-widest text-white/40 font-bold">Resting</span>
                                    </div>
                                </div>

                                <div className="flex gap-4">
                                    <button 
                                        onClick={toggleTimer}
                                        className={cn(
                                            "w-14 h-14 rounded-full flex items-center justify-center transition-all duration-300",
                                            isActive 
                                                ? "bg-white text-black" 
                                                : "bg-intense-red text-white shadow-[0_0_20px_rgba(230,0,0,0.4)]"
                                        )}
                                    >
                                        {isActive ? <Pause size={24} fill="currentColor" /> : <Play size={24} fill="currentColor" className="ml-1" />}
                                    </button>
                                    <button 
                                        onClick={resetTimer}
                                        className="w-14 h-14 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white hover:bg-white/10 transition-colors"
                                    >
                                        <RotateCcw size={24} />
                                    </button>
                                </div>
                            </div>
                        </div>
                    </motion.div>
                </motion.div>
            );
        }

        function App() {
            const [selectedGoal, setSelectedGoal] = useState('hypertrophy');
            const [activeCategory, setActiveCategory] = useState('Peito');
            const [selectedExercise, setSelectedExercise] = useState(null);

            const filteredExercises = EXERCISES.filter(ex => ex.category === activeCategory);
            const currentGoalConfig = GOAL_CONFIGS[selectedGoal];

            return (
                <div className="min-h-screen bg-deep-black pb-20">
                    {/* Header */}
                    <header className="sticky top-0 z-40 bg-deep-black/80 backdrop-blur-md border-b border-white/5 px-6 py-4">
                        <div className="max-w-4xl mx-auto flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <div className="w-10 h-10 bg-intense-red rounded-lg flex items-center justify-center shadow-[0_0_15px_rgba(230,0,0,0.4)]">
                                    <Dumbbell className="text-white" size={24} />
                                </div>
                                <h1 className="text-2xl font-display font-bold tracking-tighter uppercase italic">
                                    Iron <span className="text-intense-red">Mastery</span>
                                </h1>
                            </div>
                            <div className="text-[10px] uppercase tracking-widest text-white/40 font-semibold">
                                Elite Performance
                            </div>
                        </div>
                    </header>

                    <main className="max-w-4xl mx-auto px-6 pt-8">
                        {/* Goal Selector */}
                        <section className="mb-10">
                            <div className="flex items-center gap-2 mb-4">
                                <Trophy size={16} className="text-intense-red" />
                                <h2 className="text-xs uppercase tracking-widest font-bold text-white/60">Objetivo de Treino</h2>
                            </div>
                            <div className="grid grid-cols-3 gap-3">
                                {Object.keys(GOAL_CONFIGS).map((goal) => {
                                    const config = GOAL_CONFIGS[goal];
                                    const isActive = selectedGoal === goal;
                                    const Icon = goal === 'hypertrophy' ? Trophy : goal === 'fat_burn' ? Flame : Zap;
                                    
                                    return (
                                        <button
                                            key={goal}
                                            onClick={() => setSelectedGoal(goal)}
                                            className={cn(
                                                "relative flex flex-col items-center justify-center p-4 rounded-2xl border transition-all duration-300 group",
                                                isActive 
                                                    ? "bg-intense-red/10 border-intense-red text-white shadow-[0_0_20px_rgba(230,0,0,0.2)]" 
                                                    : "bg-white/5 border-white/10 text-white/40 hover:bg-white/10 hover:border-white/20"
                                            )}
                                        >
                                            <Icon size={24} className={cn("mb-2 transition-transform duration-300", isActive ? "scale-110" : "group-hover:scale-110")} />
                                            <span className="text-[11px] font-bold uppercase tracking-tight text-center leading-tight">
                                                {config.label}
                                            </span>
                                            {isActive && (
                                                <motion.div 
                                                    layoutId="goal-indicator"
                                                    className="absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-intense-red rounded-full shadow-[0_0_8px_#e60000]"
                                                />
                                            )}
                                        </button>
                                    );
                                })}
                            </div>
                            
                            <motion.div 
                                key={selectedGoal}
                                initial={{ opacity: 0, y: 10 }}
                                animate={{ opacity: 1, y: 0 }}
                                className="mt-4 p-4 rounded-xl bg-white/5 border border-white/5 flex items-start gap-3"
                            >
                                <Info size={16} className="text-intense-red shrink-0 mt-0.5" />
                                <div>
                                    <p className="text-xs text-white/80 leading-relaxed">
                                        <span className="font-bold text-white uppercase mr-2">{currentGoalConfig.label}:</span>
                                        {currentGoalConfig.description}
                                    </p>
                                    <div className="flex gap-4 mt-2">
                                        <div className="text-[10px] uppercase tracking-wider text-white/40">
                                            Séries: <span className="text-white font-bold">{currentGoalConfig.sets}</span>
                                        </div>
                                        <div className="text-[10px] uppercase tracking-wider text-white/40">
                                            Reps: <span className="text-white font-bold">{currentGoalConfig.reps}</span>
                                        </div>
                                        <div className="text-[10px] uppercase tracking-wider text-white/40">
                                            Descanso: <span className="text-white font-bold">{currentGoalConfig.rest}</span>
                                        </div>
                                    </div>
                                </div>
                            </motion.div>
                        </section>

                        {/* Category Tabs */}
                        <section className="mb-8">
                            <div className="flex items-center gap-2 mb-4">
                                <ChevronRight size={16} className="text-intense-red" />
                                <h2 className="text-xs uppercase tracking-widest font-bold text-white/60">Categorias</h2>
                            </div>
                            <div className="flex overflow-x-auto pb-4 gap-2 no-scrollbar">
                                {CATEGORIES.map((cat) => (
                                    <button
                                        key={cat}
                                        onClick={() => setActiveCategory(cat)}
                                        className={cn(
                                            "whitespace-nowrap px-5 py-2.5 rounded-full text-xs font-bold uppercase tracking-wider transition-all border",
                                            activeCategory === cat
                                                ? "bg-white text-deep-black border-white"
                                                : "bg-transparent text-white/50 border-white/10 hover:border-white/30"
                                        )}
                                    >
                                        {cat}
                                    </button>
                                ))}
                            </div>
                        </section>

                        {/* Exercises Grid */}
                        <section>
                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                {filteredExercises.map((exercise) => (
                                    <motion.div
                                        layout
                                        key={exercise.id}
                                        onClick={() => setSelectedExercise(exercise)}
                                        className="group relative bg-white/5 border border-white/10 rounded-2xl p-5 cursor-pointer transition-all duration-300 hover:bg-white/10 hover:border-intense-red/50 red-glow-hover"
                                    >
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <h3 className="text-lg font-display font-bold text-white group-hover:text-intense-red transition-colors">
                                                    {exercise.name}
                                                </h3>
                                                <p className="text-[10px] uppercase tracking-widest text-white/40 mt-1">
                                                    {exercise.category}
                                                </p>
                                            </div>
                                            <div className="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-intense-red transition-colors">
                                                <Play size={12} className="text-white fill-current" />
                                            </div>
                                        </div>
                                        
                                        <div className="mt-4 flex gap-3">
                                            <div className="px-2 py-1 bg-white/5 rounded text-[9px] uppercase font-bold text-white/60">
                                                {currentGoalConfig.sets}
                                            </div>
                                            <div className="px-2 py-1 bg-white/5 rounded text-[9px] uppercase font-bold text-white/60">
                                                {currentGoalConfig.reps}
                                            </div>
                                        </div>
                                    </motion.div>
                                ))}
                            </div>
                        </section>
                    </main>

                    {/* Exercise Modal */}
                    <AnimatePresence>
                        {selectedExercise && (
                            <ExerciseModal 
                                exercise={selectedExercise} 
                                goalConfig={currentGoalConfig}
                                onClose={() => setSelectedExercise(null)} 
                            />
                        )}
                    </AnimatePresence>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
